# Sweep CAT Ratio with Constant CATs per Block Simulation Configuration

# Network parameters
[network_config]
# the number of chains to simulate
num_chains = 2
# Delay in blocks for each chain
# The order of delays corresponds to the chain order (chain-1, chain-2, etc.)
chain_delays = [0.0, 5.0]  # chain-1 has first value blocks delay, chain-2 has second value blocks delay
# Block interval in seconds - this will be automatically scaled with target_tpb
# The relationship is: block_interval = target_tpb / 100
# So: target_tpb=200 -> block_interval=2.0, target_tpb=100 -> block_interval=1.0
# Note: This value is the starting point and will be scaled for each simulation step
block_interval = 1.0
# Channel buffer size for high-performance communication
# Larger values handle higher TPS but use more memory
channel_buffer_size = 1000

# Account parameters
[account_config]
# Initial balance for each account in the simulation
# This is the amount of tokens each account starts with
initial_balance = 9999
# Number of accounts to create in the simulation
# These accounts will be used to send transactions between
num_accounts = 10000

# Transaction parameters
[transaction_config]
# Target transactions per block to maintain during simulation
# The simulator will try to maintain this rate by adjusting delays
# This is the starting value (200.0) - will be varied in sweep
# Block interval will automatically scale with target_tpb: block_interval = target_tpb / 100
target_tpb = 100.0
# Zipf distribution parameter for account selection
# Higher values (e.g., 1.5) make the distribution more skewed
# Lower values (e.g., 0.5) make the distribution more uniform
# Must be greater than or equal to 0
zipf_parameter = 0.8
# Ratio of transactions that will be CATs
# This is the reference value (0.5) - will be calculated for each sweep
ratio_cats = 0.5
# CAT lifetime in blocks
# This is the maximum number of blocks a CAT transaction can remain pending
cat_lifetime_blocks = 10
# Whether to allow CAT transactions to depend on locked keys
# When false, CATs are rejected if they depend on locked keys
# When true, CATs are allowed to depend on locked keys (current behavior)
allow_cat_pending_dependencies = true

# Simulation execution parameters
[simulation_config]
# Number of blocks to wait before starting transaction submission
# This ensures the system is fully initialized and stable
initialization_wait_blocks = 10
# Number of times to run each simulation (results will be averaged)
num_runs = 3
# Number of simulations to run in the sweep
num_simulations = 7
# Multiplier for target TPB per simulation step
# Values will be calculated as: base_tpb * (multiplier ^ step)
# With base_tpb=100 (from target_tpb) and 7 simulations, this gives: [100, 200, 400, 800, 1600, 3200, 6400]
# Block intervals will scale accordingly: [1.0, 2.0, 4.0, 8.0, 16.0, 32.0, 64.0]
target_tpb_multiplier_per_step = 2 # sqrt(10)
# Total number of blocks to simulate
# The simulation will run until this many blocks have been produced
sim_total_block_number = 100
# Constant number of CATs per block (used instead of ratio_cats)
constants_cats_per_block = 100

# Logging control for the simulator
[logging_config]
# Whether to write logs to a file (true = write to file, false = no file logging)
log_to_file = false

# Plot configuration
[plot_config]
# Turn on to plot the moving average
plot_moving_average = true
# How many consecutive data points get averaged
range_moving_average = 20
# cuts off data at sim_total_block_number * cutoff
cutoff = 0.8